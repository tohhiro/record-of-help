/*! For license information please see (feature)-navHeader-index-stories.e9c0eda1.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkrecord_of_help=self.webpackChunkrecord_of_help||[]).push([[534],{"./app/(feature)/navHeader/index.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>index_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),Header=__webpack_require__("./app/components/Header/index.tsx"),supabase=__webpack_require__("./app/libs/supabase.ts");var navigation=__webpack_require__("./node_modules/@storybook/nextjs/dist/export-mocks/navigation/index.mjs"),store=__webpack_require__("./app/store/index.ts");const navItemsWithAdmin={Form:"./form",Dashboard:"./dashboard"},navItemsWithMember={Dashboard:"./dashboard"},NavHeader=()=>{const{signOut}={signOut:async()=>{const{error}=await supabase.N.auth.signOut();return{error}}},router=(0,navigation.useRouter)(),{loginUser,updateLoginUser}=(0,store.P)((state=>state));return(0,jsx_runtime.jsx)(Header.Y,{links:loginUser.auth?navItemsWithAdmin:navItemsWithMember,onClick:async()=>{try{updateLoginUser({id:"",email:"",auth:void 0}),await signOut(),router.replace("/login"),router.refresh()}catch(e){alert("ログアウトに失敗しました。")}},loginUser:loginUser.email})};NavHeader.__docgenInfo={description:"",methods:[],displayName:"NavHeader"};const index_stories={title:"app/feature/NavHeader",component:NavHeader,parameters:{nextjs:{appDirectory:!0}}},Default={},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{}",...Default.parameters?.docs?.source}}}},"./app/components/Header/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y:()=>Header});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),next_link=__webpack_require__("./node_modules/next/link.js"),link_default=__webpack_require__.n(next_link),dist=(__webpack_require__("./app/styles/globals.css"),__webpack_require__("./node_modules/class-variance-authority/dist/index.mjs"));const headerStyles_ribbonText="inline-block absolute top-0 py-[7px] left-[-26px] top-[10px] w-[100px] text-center text-xs leading-4 bg-green-400 opacity-90 text-white tracking-wider rotate-[-45deg] shadow-[0 2px 5px rgba(0, 0, 0, 0.2)]",headerStyles_navContainer="bg-black border-gray-200 dark:bg-gray-900",headerStyles_navBaseStyle="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4",headerStyles_headerTitle="text-white self-center text-2xl font-semibold whitespace-nowrap dark:text-white hover:text-green-400",headerStyles_hamburgerMenu="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600",headerStyles_menuUlStyle="font-medium flex flex-col md:flex-row md:space-x-8 border-gray-100 md:p-0 mt-4",headerStyles_menuLiStyle="block text-white py-2 px-3 md:p-0 md:hover:text-green-400",headerStyles_menuLink="block w-full h-full",hamburgerContainer=(0,dist.F)("w-full md:block md:w-auto",{variants:{hamburger:{hidden:"hidden",open:"block"}},defaultVariants:{hamburger:"hidden"}}),Header=({links,loginUser,onClick})=>{const[isOpen,setIsOpen]=(0,react.useState)(!1);return(0,jsx_runtime.jsx)("header",{role:"banner",children:(0,jsx_runtime.jsxs)("nav",{className:headerStyles_navContainer,children:[(0,jsx_runtime.jsx)("span",{className:headerStyles_ribbonText,children:"development"}),(0,jsx_runtime.jsxs)("div",{className:headerStyles_navBaseStyle,children:[(0,jsx_runtime.jsx)("span",{className:headerStyles_headerTitle,children:(0,jsx_runtime.jsx)(link_default(),{href:"/login",children:"Record of help"})}),(0,jsx_runtime.jsxs)("button",{"data-collapse-toggle":"navbar-default",type:"button",className:headerStyles_hamburgerMenu,"aria-controls":"navbar-default","aria-expanded":"false",onClick:()=>setIsOpen((prev=>!prev)),children:[(0,jsx_runtime.jsx)("span",{className:"sr-only",children:"Open main menu"}),(0,jsx_runtime.jsx)("svg",{className:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 17 14",children:(0,jsx_runtime.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 1h15M1 7h15M1 13h15"})})]}),(0,jsx_runtime.jsx)("div",{className:hamburgerContainer({hamburger:isOpen?"open":"hidden"}),id:"navbar-default",children:loginUser&&(0,jsx_runtime.jsxs)("ul",{className:headerStyles_menuUlStyle,children:[Object.keys(links).map((link=>(0,jsx_runtime.jsx)("li",{className:headerStyles_menuLiStyle,children:(0,jsx_runtime.jsx)(link_default(),{className:headerStyles_menuLink,href:links[link],onClick:()=>setIsOpen(!1),children:link})},link))),(0,jsx_runtime.jsx)("li",{className:headerStyles_menuLiStyle,children:(0,jsx_runtime.jsx)(link_default(),{href:"#",className:headerStyles_menuLink,onClick,children:loginUser})})]})})]})]})})};Header.__docgenInfo={description:"",methods:[],displayName:"Header",props:{links:{required:!0,tsType:{name:"union",raw:"NavAdminType | NavMemberType",elements:[{name:"signature",type:"object",raw:"{\n  Form: string;\n  Dashboard: string;\n}",signature:{properties:[{key:"Form",value:{name:"string",required:!0}},{key:"Dashboard",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:"{\n  Dashboard: string;\n}",signature:{properties:[{key:"Dashboard",value:{name:"string",required:!0}}]}}]},description:""},onClick:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},loginUser:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:""}}}},"./app/libs/supabase.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>supabase});const supabase=(0,__webpack_require__("./node_modules/@supabase/ssr/dist/index.mjs").kT)("https://nwfyqjvaavytozjxbghx.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im53ZnlxanZhYXZ5dG96anhiZ2h4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDY3OTIwMDMsImV4cCI6MjAyMjM2ODAwM30.nLMw7c0_Rucxzova6KJAiS9BdsLMyO4LGawzpaPahFc")},"./app/store/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{P:()=>store_useStore});var console=__webpack_require__("./node_modules/console-browserify/index.js");const createStoreImpl=createState=>{let state;const listeners=new Set,setState=(partial,replace)=>{const nextState="function"==typeof partial?partial(state):partial;if(!Object.is(nextState,state)){const previousState=state;state=(null!=replace?replace:"object"!=typeof nextState||null===nextState)?nextState:Object.assign({},state,nextState),listeners.forEach((listener=>listener(state,previousState)))}},getState=()=>state,api={setState,getState,getInitialState:()=>initialState,subscribe:listener=>(listeners.add(listener),()=>listeners.delete(listener)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),listeners.clear()}},initialState=state=createState(setState,getState,api);return api},createStore=createState=>createState?createStoreImpl(createState):createStoreImpl;var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),with_selector=__webpack_require__("./node_modules/use-sync-external-store/shim/with-selector.js"),esm_console=__webpack_require__("./node_modules/console-browserify/index.js");const{useDebugValue}=react,{useSyncExternalStoreWithSelector}=with_selector;let didWarnAboutEqualityFn=!1;const identity=arg=>arg;const createImpl=createState=>{"function"!=typeof createState&&esm_console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const api="function"==typeof createState?createStore(createState):createState,useBoundStore=(selector,equalityFn)=>function useStore(api,selector=identity,equalityFn){equalityFn&&!didWarnAboutEqualityFn&&(esm_console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),didWarnAboutEqualityFn=!0);const slice=useSyncExternalStoreWithSelector(api.subscribe,api.getState,api.getServerState||api.getInitialState,selector,equalityFn);return useDebugValue(slice),slice}(api,selector,equalityFn);return Object.assign(useBoundStore,api),useBoundStore},create=createState=>createState?createImpl(createState):createImpl;const store_useStore=create((set=>({loginUser:{id:"",email:"",auth:void 0},updateLoginUser:payload=>set({loginUser:payload}),resetLoginUser:()=>set({loginUser:{id:"",email:"",auth:void 0}})})))},"./node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{var h=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),n=__webpack_require__("./node_modules/use-sync-external-store/shim/index.js");var q="function"==typeof Object.is?Object.is:function p(a,b){return a===b&&(0!==a||1/a==1/b)||a!=a&&b!=b},r=n.useSyncExternalStore,t=h.useRef,u=h.useEffect,v=h.useMemo,w=h.useDebugValue;exports.useSyncExternalStoreWithSelector=function(a,b,e,l,g){var c=t(null);if(null===c.current){var f={hasValue:!1,value:null};c.current=f}else f=c.current;c=v((function(){function a(a){if(!c){if(c=!0,d=a,a=l(a),void 0!==g&&f.hasValue){var b=f.value;if(g(b,a))return k=b}return k=a}if(b=k,q(d,a))return b;var e=l(a);return void 0!==g&&g(b,e)?b:(d=a,k=e)}var d,k,c=!1,m=void 0===e?null:e;return[function(){return a(b())},null===m?void 0:function(){return a(m())}]}),[b,e,l,g]);var d=r(a,c[0],c[1]);return u((function(){f.hasValue=!0,f.value=d}),[d]),w(d),d}},"./node_modules/use-sync-external-store/shim/with-selector.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.min.js")}}]);