/*! For license information please see (feature)-login-index-stories.61247009.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkrecord_of_help=self.webpackChunkrecord_of_help||[]).push([[169],{"./app/(feature)/login/index.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>index_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),navigation=__webpack_require__("./node_modules/@storybook/nextjs/dist/export-mocks/navigation/index.mjs"),index_esm=__webpack_require__("./node_modules/react-hook-form/dist/index.esm.mjs"),zod=__webpack_require__("./node_modules/@hookform/resolvers/zod/dist/zod.mjs"),lib=__webpack_require__("./node_modules/zod/lib/index.mjs");const validationSchema=lib.z.object({email:lib.z.string().email({message:"Emailを入力してください。"}),password:lib.z.string().min(8,"8文字以上で入力してください。")});var Button=__webpack_require__("./app/components/Button/index.tsx"),Input=__webpack_require__("./app/components/Input/index.tsx"),supabase=__webpack_require__("./app/libs/supabase.ts");var store=__webpack_require__("./app/store/index.ts");function Page(){var _errors_email,_errors_email1,_errors_password,_errors_password1;const[submitButton,setSubmitButton]=(0,react.useState)("primary"),{formState:{errors},handleSubmit,control}=(0,index_esm.mN)({mode:"onChange",resolver:(0,zod.u)(validationSchema)}),login={signIn:async args=>{const result=await supabase.N.auth.signInWithPassword({...args});return{error:(null==result?void 0:result.error)||null}}},router=(0,navigation.useRouter)(),loginAuth=(0,store.P)((state=>state.loginUser.auth));return(0,jsx_runtime.jsx)("div",{className:"w-100  h-200 m-10 text-center",children:(0,jsx_runtime.jsxs)("form",{onSubmit:handleSubmit((async inputData=>{setSubmitButton("disabled");const{error}=await login.signIn(inputData);error?(alert(`ログインに失敗しました。\n ${error.message}`),setSubmitButton("primary")):router.replace(loginAuth?"/form":"/dashboard")})),children:[(0,jsx_runtime.jsxs)("div",{className:"w-80 my-8 m-auto",children:[(0,jsx_runtime.jsx)(index_esm.xI,{name:"email",control,defaultValue:"",rules:{required:!0},render:({field})=>(0,jsx_runtime.jsx)(Input.p,{id:"email",label:"メールアドレス",type:"text",...field})}),(0,jsx_runtime.jsx)("p",{className:"text-xs text-red-500",children:(null===(_errors_email=errors.email)||void 0===_errors_email?void 0:_errors_email.message)&&(null===(_errors_email1=errors.email)||void 0===_errors_email1?void 0:_errors_email1.message)})]}),(0,jsx_runtime.jsxs)("div",{className:"w-80 my-8 m-auto",children:[(0,jsx_runtime.jsx)(index_esm.xI,{name:"password",control,defaultValue:"",rules:{required:!0},render:({field})=>(0,jsx_runtime.jsx)(Input.p,{id:"password",label:"パスワード",type:"password",...field})}),(0,jsx_runtime.jsx)("p",{className:"text-xs text-red-500",children:(null===(_errors_password=errors.password)||void 0===_errors_password?void 0:_errors_password.message)&&(null===(_errors_password1=errors.password)||void 0===_errors_password1?void 0:_errors_password1.message)})]}),(0,jsx_runtime.jsx)("div",{className:"w-80 my-8 m-auto",children:(0,jsx_runtime.jsx)(Button.$,{label:"ログイン",type:"submit",intent:submitButton})})]})})}Page.__docgenInfo={description:"",methods:[],displayName:"Page"};const index_stories={title:"app/feature/Login",component:Page,parameters:{nextjs:{appDirectory:!0,navigation:{pathname:"/login"}}}},Default={},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{}",...Default.parameters?.docs?.source}}}},"./app/components/Button/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$:()=>Button});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js");__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),__webpack_require__("./app/styles/globals.css");const buttonStyles=(0,__webpack_require__("./node_modules/class-variance-authority/dist/index.mjs").F)("font-bold py-2 px-4 rounded",{variants:{intent:{primary:"bg-blue-500 hover:bg-blue-700 text-white ",secondary:"bg-transparent hover:bg-blue-500 text-blue-700 border border-blue-500 hover:border-transparent",disabled:"bg-blue-500 text-white opacity-50 cursor-not-allowed text-white "}},defaultVariants:{intent:"primary"}}),Button=({label,type,intent,onClick})=>(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)("button",{className:buttonStyles({intent}),type,disabled:"disabled"===intent||!1,onClick,children:label})});Button.__docgenInfo={description:"",methods:[],displayName:"Button",props:{label:{required:!0,tsType:{name:"string"},description:""},type:{required:!0,tsType:{name:"union",raw:"'submit' | 'reset' | 'button'",elements:[{name:"literal",value:"'submit'"},{name:"literal",value:"'reset'"},{name:"literal",value:"'button'"}]},description:""},intent:{required:!0,tsType:{name:"union",raw:"'primary' | 'secondary' | 'disabled'",elements:[{name:"literal",value:"'primary'"},{name:"literal",value:"'secondary'"},{name:"literal",value:"'disabled'"}]},description:""},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}}},"./app/components/Input/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{p:()=>Input});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");__webpack_require__("./app/styles/globals.css");const inputStyles={label:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",input:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",disabled:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 opacity-50 cursor-not-allowed"},Input=(0,react.forwardRef)((({id,label,type,onClick,disabled,...field},_ref)=>(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("label",{htmlFor:id,className:inputStyles.label,children:label}),(0,jsx_runtime.jsx)("input",{...field,id,className:`${inputStyles[disabled?"disabled":"input"]}`,type,disabled,onClick})]})));Input.__docgenInfo={description:"",methods:[],displayName:"Input"}},"./app/libs/supabase.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>supabase});const supabase=(0,__webpack_require__("./node_modules/@supabase/ssr/dist/index.mjs").kT)("https://nwfyqjvaavytozjxbghx.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im53ZnlxanZhYXZ5dG96anhiZ2h4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDY3OTIwMDMsImV4cCI6MjAyMjM2ODAwM30.nLMw7c0_Rucxzova6KJAiS9BdsLMyO4LGawzpaPahFc")},"./app/store/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{P:()=>store_useStore});var console=__webpack_require__("./node_modules/console-browserify/index.js");const createStoreImpl=createState=>{let state;const listeners=new Set,setState=(partial,replace)=>{const nextState="function"==typeof partial?partial(state):partial;if(!Object.is(nextState,state)){const previousState=state;state=(null!=replace?replace:"object"!=typeof nextState||null===nextState)?nextState:Object.assign({},state,nextState),listeners.forEach((listener=>listener(state,previousState)))}},getState=()=>state,api={setState,getState,getInitialState:()=>initialState,subscribe:listener=>(listeners.add(listener),()=>listeners.delete(listener)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),listeners.clear()}},initialState=state=createState(setState,getState,api);return api},createStore=createState=>createState?createStoreImpl(createState):createStoreImpl;var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),with_selector=__webpack_require__("./node_modules/use-sync-external-store/shim/with-selector.js"),esm_console=__webpack_require__("./node_modules/console-browserify/index.js");const{useDebugValue}=react,{useSyncExternalStoreWithSelector}=with_selector;let didWarnAboutEqualityFn=!1;const identity=arg=>arg;const createImpl=createState=>{"function"!=typeof createState&&esm_console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const api="function"==typeof createState?createStore(createState):createState,useBoundStore=(selector,equalityFn)=>function useStore(api,selector=identity,equalityFn){equalityFn&&!didWarnAboutEqualityFn&&(esm_console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),didWarnAboutEqualityFn=!0);const slice=useSyncExternalStoreWithSelector(api.subscribe,api.getState,api.getServerState||api.getInitialState,selector,equalityFn);return useDebugValue(slice),slice}(api,selector,equalityFn);return Object.assign(useBoundStore,api),useBoundStore},create=createState=>createState?createImpl(createState):createImpl;const store_useStore=create((set=>({loginUser:{id:"",email:"",auth:void 0},updateLoginUser:payload=>set({loginUser:payload}),resetLoginUser:()=>set({loginUser:{id:"",email:"",auth:void 0}})})))},"./node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{var h=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),n=__webpack_require__("./node_modules/use-sync-external-store/shim/index.js");var q="function"==typeof Object.is?Object.is:function p(a,b){return a===b&&(0!==a||1/a==1/b)||a!=a&&b!=b},r=n.useSyncExternalStore,t=h.useRef,u=h.useEffect,v=h.useMemo,w=h.useDebugValue;exports.useSyncExternalStoreWithSelector=function(a,b,e,l,g){var c=t(null);if(null===c.current){var f={hasValue:!1,value:null};c.current=f}else f=c.current;c=v((function(){function a(a){if(!c){if(c=!0,d=a,a=l(a),void 0!==g&&f.hasValue){var b=f.value;if(g(b,a))return k=b}return k=a}if(b=k,q(d,a))return b;var e=l(a);return void 0!==g&&g(b,e)?b:(d=a,k=e)}var d,k,c=!1,m=void 0===e?null:e;return[function(){return a(b())},null===m?void 0:function(){return a(m())}]}),[b,e,l,g]);var d=r(a,c[0],c[1]);return u((function(){f.hasValue=!0,f.value=d}),[d]),w(d),d}},"./node_modules/use-sync-external-store/shim/with-selector.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.min.js")}}]);